(function(t){function e(e){for(var n,a,c=e[0],i=e[1],u=e[2],f=0,l=[];f<c.length;f++)a=c[f],o[a]&&l.push(o[a][0]),o[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);d&&d(e);while(l.length)l.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,a=1;a<r.length;a++){var c=r[a];0!==o[c]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},a={app:0},o={app:0},s=[];function c(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-6cb59c1d":"3ef35fb4"}[t]+".js"}function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(t){var e=[],r={"chunk-6cb59c1d":1};a[t]?e.push(a[t]):0!==a[t]&&r[t]&&e.push(a[t]=new Promise(function(e,r){for(var n="css/"+({}[t]||t)+"."+{"chunk-6cb59c1d":"04d398ba"}[t]+".css",o=i.p+n,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var u=s[c],f=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(f===n||f===o))return e()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){u=l[c],f=u.getAttribute("data-href");if(f===n||f===o)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var n=e&&e.target&&e.target.src||o,s=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete a[t],d.parentNode.removeChild(d),r(s)},d.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(d)}).then(function(){a[t]=0}));var n=o[t];if(0!==n)if(n)e.push(n[2]);else{var s=new Promise(function(e,r){n=o[t]=[e,r]});e.push(n[2]=s);var u,f=document.createElement("script");f.charset="utf-8",f.timeout=120,i.nc&&f.setAttribute("nonce",i.nc),f.src=c(t),u=function(e){f.onerror=f.onload=null,clearTimeout(l);var r=o[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+n+": "+a+")");s.type=n,s.request=a,r[1](s)}o[t]=void 0}};var l=setTimeout(function(){u({type:"timeout",target:f})},12e4);f.onerror=f.onload=u,document.head.appendChild(f)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/chuck-norris/",i.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],f=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var d=f;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"000b":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"fact",attrs:{title:t.$store.getters.isFactInFavourites(t.fact)?"Remove fact from favourites":"Add fact to favourites"},on:{click:function(e){t.$store.getters.isFactInFavourites(t.fact)?t.removeFactFromFavourites(t.fact):t.addToFavourites(t.fact)}}},[t.showValue?r("span",[r("b",[t._v(t._s(t.fact.value)+" ")])]):t._e(),r("span",[r("i",{staticClass:"far fa-bookmark fa-lg favourite-button",class:{"fas fa-bookmark is-favourite":t.$store.getters.isFactInFavourites(t.fact)}})])])},a=[],o={props:{fact:{type:Object},showValue:{type:Boolean,default:!0}},name:"Fact",methods:{addToFavourites:function(t){this.$store.dispatch("ADD_FACT_TO_FAVOURITES",t)},removeFactFromFavourites:function(t){this.$store.dispatch("REMOVE_FACT_FROM_FAVOURITES",t)}}},s=o,c=(r("cc3b"),r("2877")),i=Object(c["a"])(s,n,a,!1,null,"15a2af37",null);e["a"]=i.exports},"034f":function(t,e,r){"use strict";var n=r("64a9"),a=r.n(n);a.a},1:function(t,e){},"372b":function(t,e,r){t.exports=r.p+"img/career_category.6650b1d4.jpg"},"3f26":function(t,e,r){},"43a1":function(t,e,r){t.exports=r.p+"img/music_category.216c8527.jpg"},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex flex-column h-100",attrs:{id:"app"}},[r("app-header"),r("div",{staticClass:"main"},[r("router-view")],1),r("app-footer")],1)},o=[],s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-navbar",{attrs:{type:"dark",fixed:"top",toggleable:"sm"}},[r("b-navbar-brand",{attrs:{to:{path:"/"}}},[r("img",{attrs:{src:"https://assets.chucknorris.host/img/avatar/chuck-norris.png",alt:"",height:"40px"}}),r("span",{staticClass:"ml-1 d-none d-md-inline-block"},[t._v("Chuck Norris")])]),r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-form",[r("b-form-input",{staticClass:"mr-2 search-box",attrs:{placeholder:"Search jokes"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),r("b-nav-item",{staticClass:"favourite-link",attrs:{to:{name:"jokes",params:{showFavourites:!0}}}},[t._v("\n                Favourites\n                "),r("sup",[r("i",{staticClass:"fas fa-bookmark text-warning"}),r("b",[t._v(" "+t._s(t.amountOfFavourites))])])])],1)],1)],1)},c=[],i=(r("7f7f"),{name:"AppHeader",data:function(){return{search:null}},beforeCreate:function(){this.$store.dispatch("GET_FAVOURITES_FROM_STORAGE")},computed:{amountOfFavourites:function(){return this.$store.state.favourites.length}},watch:{search:function(t){null!==t&&t.trim().length>=3&&this.searchFacts(t)}},methods:{searchFacts:function(t){"jokes"!==this.$route.name&&this.$router.push({name:"jokes"}),this.$store.dispatch("FETCH_FACTS",t)}}}),u=i,f=(r("7f3b"),r("2877")),l=Object(f["a"])(u,s,c,!1,null,"48a4a03c",null),d=l.exports,p=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},h=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("footer",{staticClass:"footer px-1 py-2 text-white"},[t._v("\n    All jokes are fetched from Chuck Norris "),r("a",{staticClass:"badge badge-light",attrs:{href:"https://api.chucknorris.io/",target:"_blank"}},[t._v("API")])])}],g={name:"AppFooter"},m=g,v=(r("b082"),Object(f["a"])(m,p,h,!1,null,"b7985b6c",null)),b=v.exports,_={components:{AppFooter:b,AppHeader:d}},y=_,F=(r("034f"),Object(f["a"])(y,a,o,!1,null,null,null)),E=F.exports,T=r("8c4f"),O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container-fluid h-100 py-2"},[r("div",{staticClass:"row no-gutters"},t._l(t.categories,function(t){return r("div",{key:t,staticClass:"col-12 col-sm-6 col-xl-4 p-2 category-col"},[r("category",{attrs:{header:t}})],1)}),0)])},C=[],x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card",class:{empty:!t.isFull(t.header)},style:"background-image: url("+t.image[t.header]+")",attrs:{title:t.isFull(t.header)?"Press refresh to get new facts":"Click to fetch 3 random facts about Chuck Norris"},on:{click:function(e){return t.showThreeRandomFacts(t.header,"CARD")}}},[r("div",{staticClass:"card-body p-0"},[r("div",{staticClass:"card-title row"},[r("span",{staticClass:"col"},[r("h3",{staticClass:"d-inline"},[r("b",{staticClass:"text-capitalize"},[t._v(t._s(t.header))])]),r("sup",{staticClass:"pl-1 custom-sup"},[r("i",{staticClass:"fas fa-bookmark text-warning"}),r("b",[t._v(" "+t._s(t.$store.getters.amountOfFavouritesInCategory(t.header)))])])]),r("span",{staticClass:"text-right col"},[r("i",{directives:[{name:"show",rawName:"v-show",value:t.$store.getters.isSearching(t.header)||t.isFull(t.header),expression:"$store.getters.isSearching(header) || isFull(header)"}],staticClass:"fas fa-redo-alt ml-2 text-white refresh-button h3",class:{"fast-spin":t.$store.getters.isSearching(t.header)},attrs:{title:"Click to fetch 3 random facts about Chuck Norris"},on:{click:function(e){return t.showThreeRandomFacts(t.header,"REFRESH")}}})])]),t._l(t.$store.getters.facts(t.header),function(t){return r("p",{staticClass:"card-text"},[r("fact",{attrs:{fact:t}})],1)})],2)])},S=[],k=r("000b"),A={components:{Fact:k["a"]},props:{header:{type:String,default:""}},name:"Category",data:function(){return{image:{animal:r("e2e2"),dev:r("e8d6"),career:r("372b"),celebrity:r("a1d1"),explicit:r("c3b3"),fashion:r("75cf"),food:r("cee7"),history:r("725b"),money:r("86d3"),movie:r("8b02"),music:r("43a1"),political:r("88ab"),religion:r("75c0"),science:r("747d"),sport:r("dcae"),travel:r("cbbb")}}},methods:{showThreeRandomFacts:function(t,e){this.isFull(t)?this.isFull(t)&&"REFRESH"===e&&this.$store.dispatch("FETCH_THREE_FACTS",t):this.$store.dispatch("FETCH_THREE_FACTS",t)},isFull:function(t){return this.$store.getters.facts(t).length>0}}},R=A,w=(r("7a4d"),Object(f["a"])(R,x,S,!1,null,"18a2df6f",null)),j=w.exports,I={name:"home",components:{Category:j},computed:{categories:function(){return this.$store.state.categories}},beforeCreate:function(){this.$store.dispatch("GET_FAVOURITES_FROM_STORAGE")},created:function(){this.$store.dispatch("FETCH_CATEGORIES")}},$=I,V=(r("91c0"),Object(f["a"])($,O,C,!1,null,"a081d7ac",null)),M=V.exports;n["default"].use(T["a"]);var U=new T["a"]({base:"/chuck-norris/",routes:[{path:"*",redirect:"/"},{path:"/",name:"home",component:M},{path:"/jokes",name:"jokes",component:function(){return r.e("chunk-6cb59c1d").then(r.bind(null,"826f"))}}]}),G=(r("6762"),r("2fdb"),r("96cf"),r("3b8d")),H=(r("7514"),r("2f62")),D=r("28dd");n["default"].use(D["a"]);var N={chuck_url:"https://api.chucknorris.io/"};function P(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=N.chuck_url;return 0!==e&&(r=e),new Promise(function(e,a){n["default"].http.get(r+t).then(function(t){e(t)},function(t){console.log("ERROR: "+JSON.stringify(t)),a(t)})})}function L(t){return P("jokes/search?query=".concat(t))}function J(){return P("jokes/categories")}function B(t){var e="";return"undefined"!==typeof t.category&&null!==t.category&&(e+="?category="+t.category),e.length>0?P("jokes/random".concat(e)):P("jokes/random")}var q=r("e399"),z=r.n(q);r("6705");function K(t){void 0===t.timeout&&(t.timeout=2e3),n["default"].prototype.$toast.success(t.text,"OK",{position:"bottomRight",timeout:t.timeout,closeOnEscape:!0,pauseOnHover:!1,displayMode:"replace"})}function Y(t){void 0===t.timeout&&(t.timeout=5e3),n["default"].prototype.$toast.error(t.text,"Error",{position:"bottomRight",timeout:t.timeout,closeOnEscape:!0,pauseOnHover:!1,displayMode:"replace"})}n["default"].use(z.a),n["default"].use(H["a"]);var Q=new H["a"].Store({state:{search:null,searchResults:[],categories:[],threeFacts:[],favourites:[],loadingCategories:[]},mutations:{GET_FAVOURITES:function(t){if(localStorage.getItem("favouriteFacts"))try{var e=JSON.parse(localStorage.getItem("favouriteFacts"));n["default"].set(t,"favourites",e)}catch(r){localStorage.removeItem("favouriteFacts")}},SET_CATEGORIES:function(t,e){var r=e.response;n["default"].set(t,"categories",r.body)},SET_FACTS_TO_CATEGORY:function(t,e){var r=e.threeFacts,a=e.category;n["default"].set(t.threeFacts,a,r)},SET_FACTS:function(t,e){var r=e.results;n["default"].set(t,"searchResults",r)},ADD_TO_FAVOURITES:function(t,e){var r=e.fact;t.favourites.find(function(t){return t.id===r.id})||(t.favourites.push(r),K({text:"Added fact to favourites! Category: <b>"+(r.categories.length>0?r.categories:"Uncategorized")+"</b>"}))},REMOVE_FROM_FAVOURITES:function(t,e){var r=e.fact;t.favourites.find(function(t){return t.id===r.id})&&(t.favourites=t.favourites.filter(function(t){return t.id!==r.id}),K({text:"Removed fact from favourites! Category: <b>"+(r.categories.length>0?r.categories:"Uncategorized")+"</b>"}))},SET_LOADING_STATE:function(t,e){var r=e.category,a=e.isLoading;console.log(r),console.log(a),n["default"].set(t.loadingCategories,r,a)}},actions:{FETCH_CATEGORIES:function(t){var e=t.commit;return J().then(function(t){return e("SET_CATEGORIES",{response:t})})},FETCH_THREE_FACTS:function(){var t=Object(G["a"])(regeneratorRuntime.mark(function t(e,r){var n,a,o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,e.state,a=!0,n("SET_LOADING_STATE",{category:r,isLoading:a}),o=function(){var t=Object(G["a"])(regeneratorRuntime.mark(function t(n,a,o){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(o.length>=3)){t.next=2;break}return t.abrupt("return",o);case 2:if(!a){t.next=8;break}return t.next=5,B({category:r}).then(function(t){return t},function(t){return t});case 5:t.t0=t.sent,t.next=11;break;case 8:return t.next=10,B({}).then(function(t){return t},function(t){return t});case 10:t.t0=t.sent;case 11:if(s=t.t0,200!==s.status){t.next=22;break}if(!o.find(function(t){return t.id===s.body.id})){t.next=19;break}return t.next=16,e(n+1,!1,o);case 16:return t.abrupt("return",t.sent);case 19:o.push(s.body);case 20:t.next=23;break;case 22:"undefined"!==typeof s.body.error?Y({text:"<b>"+s.body.error+"</b>: "+s.body.message}):Y({text:"Fetch random fact failed!"});case 23:if(!(o.length>=3)){t.next=27;break}return t.abrupt("return",o);case 27:if(0!==s.body.categories.length){t.next=33;break}return t.next=30,e(n+1,!1,o);case 30:return t.abrupt("return",t.sent);case 33:return t.next=35,e(n+1,!0,o);case 35:return t.abrupt("return",t.sent);case 36:case"end":return t.stop()}},t)}));function e(e,r,n){return t.apply(this,arguments)}return e}(),t.next=6,o(0,!0,[]);case 6:s=t.sent,a=!1,n("SET_LOADING_STATE",{category:r,isLoading:a}),n("SET_FACTS_TO_CATEGORY",{threeFacts:s,category:r});case 10:case"end":return t.stop()}},t)}));function e(e,r){return t.apply(this,arguments)}return e}(),FETCH_FACTS:function(){var t=Object(G["a"])(regeneratorRuntime.mark(function t(e,r){var n,a,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,e.state,t.next=3,L(r).then(function(t){return t},function(t){return t});case 3:a=t.sent,200===a.status?(o=a.body.result,n("SET_FACTS",{results:o})):"undefined"!==typeof a.body.error?Y({text:"<b>"+a.body.error+"</b>: "+a.body.message}):Y({text:"Search failed!"});case 5:case"end":return t.stop()}},t)}));function e(e,r){return t.apply(this,arguments)}return e}(),ADD_FACT_TO_FAVOURITES:function(t,e){var r=t.commit;t.state;r("ADD_TO_FAVOURITES",{fact:e})},REMOVE_FACT_FROM_FAVOURITES:function(t,e){var r=t.commit;t.state;r("REMOVE_FROM_FAVOURITES",{fact:e})},GET_FAVOURITES_FROM_STORAGE:function(t){var e=t.commit;e("GET_FAVOURITES")}},getters:{facts:function(t){return function(e){return"undefined"!==typeof t.threeFacts[e]?t.threeFacts[e]:[]}},isFactInFavourites:function(t){return function(e){return t.favourites.find(function(t){return t.id===e.id})}},amountOfFavouritesInCategory:function(t){return function(e){return t.favourites.filter(function(t){return t.categories.includes(e)}).length}},isSearching:function(t){return function(e){return t.loadingCategories[e]}}}});Q.subscribe(function(t,e){"ADD_TO_FAVOURITES"!==t.type&&"REMOVE_FROM_FAVOURITES"!==t.type||localStorage.setItem("favouriteFacts",JSON.stringify(e.favourites))});var W=Q,X=r("5f5b"),Z=r("fb9a");r("04f2"),r("f9e3"),r("2dd8"),r("becf");n["default"].use(X["a"]),n["default"].use(z.a),n["default"].use(Z["vsSwitch"]),n["default"].use(Z["vsIcon"]),n["default"].config.productionTip=!1,new n["default"]({router:U,store:W,render:function(t){return t(E)}}).$mount("#app")},"64a9":function(t,e,r){},"67f9":function(t,e,r){},"725b":function(t,e,r){t.exports=r.p+"img/history_category.d95ab075.jpg"},"747d":function(t,e,r){t.exports=r.p+"img/science_category.0982d8e0.jpg"},"75c0":function(t,e,r){t.exports=r.p+"img/religion_category.6fb9dd6d.jpg"},"75cf":function(t,e,r){t.exports=r.p+"img/fashion_category.2c1da18a.jpg"},"7a4d":function(t,e,r){"use strict";var n=r("f5c9"),a=r.n(n);a.a},"7f3b":function(t,e,r){"use strict";var n=r("67f9"),a=r.n(n);a.a},"86d3":function(t,e,r){t.exports=r.p+"img/money_category.f4e34976.jpg"},"88ab":function(t,e,r){t.exports=r.p+"img/political_category.69d0b581.jpg"},"8b02":function(t,e,r){t.exports=r.p+"img/movie_category.7fe2613c.jpg"},"91c0":function(t,e,r){"use strict";var n=r("3f26"),a=r.n(n);a.a},a1d1:function(t,e,r){t.exports=r.p+"img/celebrity_category.5cf447e6.jpg"},b082:function(t,e,r){"use strict";var n=r("c15c"),a=r.n(n);a.a},c15c:function(t,e,r){},c3b3:function(t,e,r){t.exports=r.p+"img/explicit_category.5241de80.png"},cbbb:function(t,e,r){t.exports=r.p+"img/travel_category.ee2c41fc.jpg"},cc3b:function(t,e,r){"use strict";var n=r("e813"),a=r.n(n);a.a},cee7:function(t,e,r){t.exports=r.p+"img/food_category.9a4985db.jpg"},dcae:function(t,e,r){t.exports=r.p+"img/sport_category.b86be753.jpg"},e2e2:function(t,e,r){t.exports=r.p+"img/animal_category.0f1f1528.jpg"},e813:function(t,e,r){},e8d6:function(t,e,r){t.exports=r.p+"img/dev_category.74076bb1.png"},f5c9:function(t,e,r){}});
//# sourceMappingURL=app.9b9a138c.js.map